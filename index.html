<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Be My Valentine? ‚ù§Ô∏è</title>

<script src="https://cdn.tailwindcss.com"></script>

<style>
@import url('https://fonts.googleapis.com/css2?family=Pangolin&display=swap');

* {
    box-sizing: border-box;
}

body {
    font-family: 'Pangolin', cursive;
    background-color: #fff0f3;
    height: 100vh;
    width: 100vw;
    margin: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    touch-action: manipulation;
}

/* Floating background hearts */
.floating-hearts {
    position: fixed;
    inset: 0;
    pointer-events: none;
    z-index: 0;
}

.heart {
    position: absolute;
    animation: float 6s linear forwards;
    opacity: 0;
}

@keyframes float {
    0% { transform: translateY(100vh) scale(1); opacity: 1; }
    100% { transform: translateY(-10vh) scale(1.2); opacity: 0; }
}

/* Card */
#main-card {
    z-index: 10;
}

/* Buttons */
.btn-container {
    display: flex;
    justify-content: center;
    gap: 1.5rem;
    height: 120px;
    position: relative;
}

#yes-btn {
    z-index: 2;
}

#no-btn {
    z-index: 9999;
    position: relative;
    touch-action: none;
    transition: transform 0.15s ease-out;
}

/* Celebration */
.celebration-bg {
    background: linear-gradient(45deg, #ff4d6d, #ff85a1);
}
</style>
</head>

<body>

<div class="floating-hearts" id="heart-container"></div>

<!-- Main Card -->
<div id="main-card" class="bg-white/90 backdrop-blur-sm p-6 rounded-3xl shadow-2xl text-center max-w-sm w-[90%] border-4 border-pink-200">
    <div class="mb-6 flex justify-center">
        <img id="status-gif"
             src="https://media.tenor.com/l7tvGwdYLJEAAAAe/excited-milk-and-mocha.png"
             class="h-44 w-44 rounded-2xl object-contain">
    </div>

    <h1 id="question-text"
        class="text-2xl font-bold text-pink-600 mb-8 min-h-[3rem]">
        Will you be my Valentine? üíñ
    </h1>

    <div class="btn-container">
        <button id="yes-btn"
                class="bg-pink-500 hover:bg-pink-600 text-white font-bold py-3 px-8 rounded-full shadow-lg text-xl active:scale-95">
            Yes!
        </button>

        <button id="no-btn"
                class="bg-gray-400 text-white font-bold py-3 px-8 rounded-full shadow-lg text-xl">
            No
        </button>
    </div>
</div>

<!-- Celebration Screen -->
<div id="celebration" class="hidden fixed inset-0 celebration-bg flex flex-col items-center justify-center text-center p-6 z-[10000]">
    <img src="https://i.pinimg.com/236x/28/e8/5d/28e85d405e571d316f5c6019c2ac51c3.jpg"
         class="h-64 w-64 rounded-3xl object-cover shadow-2xl border-4 border-white mb-8">

    <h1 class="text-4xl font-bold text-white mb-4">Yay! Best Day Ever! ü•∞</h1>
    <p class="text-white text-xl opacity-90">I love you so much! ‚ù§Ô∏è</p>
</div>

<script>
const noBtn = document.getElementById('no-btn');
const yesBtn = document.getElementById('yes-btn');
const mainCard = document.getElementById('main-card');
const questionText = document.getElementById('question-text');
const statusGif = document.getElementById('status-gif');
const heartContainer = document.getElementById('heart-container');

let yesScale = 1;
let lastImg = -1;

const messages = [
    "Are you sure? ü•∫",
    "Think again! üßê",
    "Pleeaaaseeee? üôè",
    "I'll give you chocolate! üç´",
    "You're breaking my heart üíî",
    "Don't do this to me... üò≠"
];

const sadImages = [
    "https://media.tenor.com/v3CzOkR-B50AAAAe/milk-and-mocha-bear.png",
    "https://media.tenor.com/1jKnE-r5T-EAAAAe/milk-and-mocha-bears-sad.png",
    "https://media.tenor.com/xSdP8nYROncAAAAe/milk-and-mocha-crying.png"
];

function moveNoButton() {
    // Grow YES button safely
    yesScale += 0.25;
    yesBtn.style.transform = `scale(${yesScale})`;

    // Switch to fixed positioning BEFORE measuring
    noBtn.style.position = 'fixed';

    const padding = 20;
    const vw = window.innerWidth;
    const vh = window.innerHeight;

    const btnW = noBtn.offsetWidth;
    const btnH = noBtn.offsetHeight;

    const minX = padding;
    const minY = padding;
    const maxX = vw - btnW - padding;
    const maxY = vh - btnH - padding;

    const x = Math.random() * (maxX - minX) + minX;
    const y = Math.random() * (maxY - minY) + minY;

    noBtn.style.left = `${x}px`;
    noBtn.style.top = `${y}px`;
    noBtn.style.margin = '0';

    // Update text
    questionText.innerText = messages[Math.floor(Math.random() * messages.length)];

    // Update image without repeating
    let img;
    do {
        img = Math.floor(Math.random() * sadImages.length);
    } while (img === lastImg);

    lastImg = img;
    statusGif.src = sadImages[img];
}

noBtn.addEventListener('mouseenter', moveNoButton);
noBtn.addEventListener('touchstart', e => {
    e.preventDefault();
    moveNoButton();
});

yesBtn.addEventListener('click', () => {
    mainCard.classList.add('hidden');
    document.getElementById('celebration').classList.remove('hidden');
    spawnHearts();
});

function spawnHearts() {
    for (let i = 0; i < 50; i++) {
        setTimeout(() => {
            const heart = document.createElement('div');
            heart.className = 'heart';
            heart.innerText = '‚ù§Ô∏è';
            heart.style.left = Math.random() * 100 + 'vw';
            heart.style.fontSize = (20 + Math.random() * 20) + 'px';
            heartContainer.appendChild(heart);
            setTimeout(() => heart.remove(), 6000);
        }, i * 80);
    }
}

// Ambient petals
setInterval(() => {
    const petal = document.createElement('div');
    petal.className = 'heart';
    petal.innerText = 'üå∏';
    petal.style.left = Math.random() * 100 + 'vw';
    petal.style.opacity = '0.4';
    heartContainer.appendChild(petal);
    setTimeout(() => petal.remove(), 6000);
}, 1400);
</script>

</body>
</html>
